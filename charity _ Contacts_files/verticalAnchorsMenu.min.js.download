"use strict";define("verticalAnchorsMenu/bi/events.json",[],function(){return{TIME_IN_FOLD:{eventId:354,adapter:"ugc-viewer",wixSiteSampleRatio:1,params:{active_fold:"activeFold",total_folds:"totalFolds",time_in_fold:"timeInFold"}}}}),define("verticalAnchorsMenu/bi/events",["verticalAnchorsMenu/bi/events.json","utils"],function(e,s){return s.logger.register("verticalAnchorsMenu","event",e),e}),define("verticalAnchorsMenu/utils/svgShapesData",[],function(){return{circle:{svg:{width:"12",height:"12",viewBox:"0 0 24 24"},content:'<circle cx="12" cy="12" r="10"/>'},fullCircle:{svg:{width:"24",height:"24",viewBox:"0 0 48 48"},content:'<circle class="external" cx="24" cy="24" r="22" /><circle class="border" cx="24" cy="24" r="10" /><circle class="inner" cx="24" cy="24" r="10" />'}}}),define("verticalAnchorsMenu/components/verticalAnchorsMenuItem",["zepto","lodash","react","utils","verticalAnchorsMenu/utils/svgShapesData"],function(e,s,t,r,n){var i={item:"item",line:"line",link:"link",symbol:"symbol",textWrapper:"text-wrapper",label:"label"};return t.createClass({displayName:"VerticalAnchorsMenuItem",statics:{useSantaTypes:!0},propTypes:{anchorLink:t.PropTypes.shape({}).isRequired,anchorData:t.PropTypes.shape({name:t.PropTypes.string,id:t.PropTypes.string}).isRequired,browser:t.PropTypes.shape({ie:t.PropTypes.bool,version:t.PropTypes.string}),styleId:t.PropTypes.string.isRequired,disabled:t.PropTypes.bool,isTablet:t.PropTypes.bool.isRequired,primaryPageId:t.PropTypes.string.isRequired,backgroundBrightness:t.PropTypes.number,colorBrightness:t.PropTypes.number,hoveredOrSelectedColorBrightness:t.PropTypes.number,svgShapeName:t.PropTypes.string.isRequired,hoverElementClass:t.PropTypes.string,isActive:t.PropTypes.bool},getInitialState:function(){return this.elementClasses={},this.anchorLabelId=s.uniqueId("anchor-label_"),{hovered:null}},updateElementClasses:function(){var e=this.props.styleId;s.forEach(i,function(s,t){this.elementClasses[t]=e+"_"+s}.bind(this))},handleOnMouseEnter:function(){this.props.isTablet||this.setState({hovered:!0})},handleOnMouseLeave:function(){this.props.isTablet||this.setState({hovered:!1})},disableClickOnTextWrapper:function(s){var t=e(s.target).find("[class="+this.elementClasses.textWrapper+"]");t&&"hidden"===t.css("visibility")&&(s.preventDefault(),s.stopPropagation())},getLabelProps:function(){return{id:this.anchorLabelId,className:this.elementClasses.label}},getTextWrapperProps:function(){return{className:this.elementClasses.textWrapper,key:"textWrapper"}},getSvgProps:function(){var e=n[this.props.svgShapeName],t=this.elementClasses.symbol,r=s.clone(e.svg);return s.assign(r,{key:"img-"+t+this.props.svgShapeName,className:t,dangerouslySetInnerHTML:{__html:e.content}}),r},getLinkProps:function(){var e={className:this.elementClasses.link,"aria-labelledby":this.anchorLabelId},t=this.props.browser.ie&&this.props.browser.version<=10;return this.props.disabled&&t&&(e.onClick=this.disableClickOnTextWrapper),s.assign(e,this.props.anchorLink),e},getItemProps:function(e){var t=this.props.styleId,n=this.elementClasses.item;this.props.isActive&&(n+=" "+t+"_active"),!this.props.isTablet&&this.state.hovered&&(n+=" "+t+"_hover");var i=this.state.hovered?this.props.hoveredOrSelectedColorBrightness:this.props.colorBrightness,o=this.props.backgroundBrightness,a=s.isFinite(i)&&s.isFinite(o),p=Math.abs(i-o)<r.siteConstants.BRIGHTNESS_DIFF_THRESHOLD;return a&&p&&(n+=o>=50?" "+t+"_dark":" "+t+"_light"),{key:e,className:n,onMouseLeave:this.handleOnMouseLeave}},addMouseEnterEventToSkinExportedClass:function(e){s.some(e,function(e){if(e.className&&!this.props.isTablet&&s.includes(e.className,this.props.hoverElementClass))return e.onMouseEnter=this.handleOnMouseEnter,!0}.bind(this))},render:function(){this.updateElementClasses();var e={itemProps:this.getItemProps(this.props.anchorData.id),linkProps:this.getLinkProps(),svgProps:this.getSvgProps(),textWrapperProps:this.getTextWrapperProps(),labelProps:this.getLabelProps()};return this.addMouseEnterEventToSkinExportedClass(e),t.DOM.li(e.itemProps,t.DOM.a(e.linkProps,[t.DOM.svg(e.svgProps),t.DOM.span(e.textWrapperProps,t.DOM.span(e.labelProps,this.props.anchorData.name))]))}})}),define("verticalAnchorsMenu/components/verticalAnchorsBaseMenu",["lodash","react","utils","santaProps","core","verticalAnchorsMenu/components/verticalAnchorsMenuItem"],function(e,s,t,r,n,i){var o=n.compMixins;return{displayName:"VerticalAnchorsBaseMenu",mixins:[o.skinBasedComp,o.skinInfo],statics:{useSantaTypes:!0},propTypes:{compProp:r.Types.Component.compProp.isRequired,styleId:r.Types.Component.styleId.isRequired,structure:r.Types.Component.structure.isRequired,primaryPageId:r.Types.primaryPageId.isRequired,browser:r.Types.Browser.browser.isRequired,isTabletDevice:r.Types.Device.isTabletDevice.isRequired,linkRenderInfo:r.Types.Link.linkRenderInfo,rootNavigationInfo:r.Types.Component.rootNavigationInfo,getAnchorLinkItems:r.Types.VerticalAnchorsMenu.getAnchorLinkItems.isRequired,isSelectedFn:s.PropTypes.func.isRequired,overlappingBackgroundBrightness:s.PropTypes.number,svgShapeName:s.PropTypes.string},getDefaultProps:function(){return{svgShapeName:"circle"}},getMenuButtons:function(r){var n=this.getSkinExports();return e.map(r,function(r){var o=this.props.isSelectedFn(r.id),a={key:r.id,anchorLink:t.linkRenderer.renderLink(r,this.props.linkRenderInfo,this.props.rootNavigationInfo),anchorData:r,browser:this.props.browser,styleId:this.props.styleId,disabled:n.disableClickOnHiddenElement,isTablet:this.props.isTabletDevice,primaryPageId:this.props.primaryPageId,svgShapeName:this.props.svgShapeName,hoverElementClass:n.hoverElementClass,isActive:o};if(this.props.compProp.autoColor&&e.get(this.props.structure,"layout.fixedPosition")){var p=this.getParams(["symbolAndTextColor","selectedColor"]),c=p.symbolAndTextColor.value,l=p.selectedColor.value,h=c.values.hsv[2],u=l.values.hsv[2];a.colorBrightness=o?u:h,a.hoveredOrSelectedColorBrightness=u,a.backgroundBrightness=this.props.overlappingBackgroundBrightness}return s.createElement(i,a)}.bind(this))},addConnectingLinesIfNeeded:function(t){if(!this.getSkinExports()||!0!==this.getSkinExports().hasConnectingLines)return t;var r=[];return e.forEach(t,function(e){r.push(s.DOM.div({className:this.props.styleId+"_line"})),r.push(e)}.bind(this)),e.tail(r)},getMenuClasses:function(){var e=this.props.styleId,s=[];return s.push(e+"_orientation-"+this.props.compProp.orientation),s.push(e+"_text-align-"+this.props.compProp.itemsAlignment),s.join(" ")},getSkinProperties:function(){var e=this.getMenuButtons(this.props.getAnchorLinkItems());return e=this.addConnectingLinesIfNeeded(e),{"":{tagName:"nav"},menuContainer:{className:this.getMenuClasses(),children:e}}}}}),define("verticalAnchorsMenu/components/verticalAnchorsMenuComp",["lodash","react","santaProps","verticalAnchorsMenu/bi/events","verticalAnchorsMenu/components/verticalAnchorsBaseMenu","verticalMenu"],function(e,s,t,r,n,i){function o(t){return e.includes(t,"verticalanchorsmenu")?h:e.includes(t,"verticalmenu")?u:s.DOM.div(null,["AnchorMenuSkin Not Found"])}function a(s){return e.includes(s,"VerticalAnchorsMenuLinkedNoTextSkin")}function p(s,t){t&&(e.forEach(l,function(e){clearTimeout(e)}),l=e.map(c,function(e){return setTimeout(function(){s(r.TIME_IN_FOLD,{activeFold:t.index,totalFolds:t.total,timeInFold:e})},1e3*e)}))}var c=[3,6,10],l=[],h=s.createClass(n),u=s.createClass(i);return{displayName:"VerticalAnchorsMenu",statics:{useSantaTypes:!0},propTypes:e.assign({compProp:t.Types.Component.compProp.isRequired,compData:t.Types.Component.compData.isRequired,skin:t.Types.Component.skin.isRequired,primaryPageId:t.Types.primaryPageId.isRequired,isTabletDevice:t.Types.Device.isTabletDevice,reportBI:t.Types.reportBI,registerObserver:t.Types.VerticalAnchorsMenu.registerObserver,unregisterObserver:t.Types.VerticalAnchorsMenu.unregisterObserver,getOverlappingBackgroundBrightness:t.Types.VerticalAnchorsMenu.getOverlappingBackgroundBrightness,getActiveAnchor:t.Types.VerticalAnchorsMenu.getActiveAnchor},t.santaTypesUtils.getSantaTypesByDefinition(n),t.santaTypesUtils.getSantaTypesByDefinition(i)),getInitialState:function(){var e={activeAnchorId:null};return this.props.compProp.autoColor&&(e.overlappingBackgroundBrightness=null),e},componentDidMount:function(){this.props.registerObserver(this.onVerticalMenuDataChange)},componentWillUnmount:function(){this.props.unregisterObserver(this.onVerticalMenuDataChange)},onVerticalMenuDataChange:function(s){var t={},r=this.props.getActiveAnchor(s),n=r?r.activeAnchorComp.id:null;this.state.activeAnchorId!==n&&(t.activeAnchorId=n,p(this.props.reportBI,r));var i=this.props.getOverlappingBackgroundBrightness();this.props.compProp.autoColor&&this.state.overlappingBackgroundBrightness!==i&&(t.overlappingBackgroundBrightness=i),e.isEmpty(t)||this.setState(t)},isSelected:function(e){return this.state.activeAnchorId===e},render:function(){var t=e.assign({},this.props,{isSelectedFn:this.isSelected,svgShapeName:a(this.props.skin)?"fullCircle":"circle"});this.props.compProp.autoColor&&e.get(this,"props.structure.layout.fixedPosition")&&(t.overlappingBackgroundBrightness=this.state.overlappingBackgroundBrightness);var r=o(t.skin);return s.createElement(r,t)}}}),define("verticalAnchorsMenu",["verticalAnchorsMenu/components/verticalAnchorsMenuComp","verticalAnchorsMenu/components/verticalAnchorsMenuItem"],function(e,s){return{verticalAnchorsMenuComp:e,verticalAnchorsMenuItem:s}});
//# sourceMappingURL=verticalAnchorsMenu.min.js.map